var _a,_b;function applyClassToArray(e,t){e.forEach((function(e){return e.className=t}))}function applyStyleToArray(e,t,n){e.forEach((function(e){e.style[t]=n}))}function applyBoxShadowToArray(e,t,n,o,l,r){e.forEach((function(e){return e.style.boxShadow="".concat(t,"rem ").concat(n,"rem ").concat(o,"rem ").concat(l,"rem ").concat(r)}))}function randomInt(e){return Math.floor(Math.random()*e)}var timeText=document.getElementById("timeText"),title=document.getElementById("title"),fullscreenButton=document.getElementById("fullscreenButton"),settingsButton=document.getElementById("settingsButton"),settingsBar=document.getElementById("settingsBar"),formatToggle=document.getElementById("formatToggle"),formatToggleNob=document.getElementById("formatToggleNob"),closeButton=document.getElementById("closeButton"),nextThemeButton=document.getElementById("nextThemeButton"),background=document.getElementById("background"),formatText=document.getElementById("formatText"),secondsText=document.getElementById("secondsText"),themeSelectorText=document.getElementById("themeSelectorText"),textThemeSelectorText=document.getElementById("textThemeSelectorText"),secondsToggle=document.getElementById("secondsToggle"),secondsToggleNob=document.getElementById("secondsToggleNob"),lightDarkButton=document.getElementById("lightDarkButton"),themeContainer=document.getElementById("themeContainer"),textThemeContainer=document.getElementById("textThemeContainer"),tooltipLaunchers=document.getElementsByClassName("tooltipLauncher"),textElements=[timeText,formatText,secondsText,themeSelectorText,textThemeSelectorText].filter(Boolean),lightThemes=["backgroundLightTheme1","backgroundLightTheme2","backgroundLightTheme3","backgroundLightTheme4","backgroundLightTheme5","backgroundLightTheme6","backgroundLightTheme7"],darkThemes=["backgroundDarkTheme1","backgroundDarkTheme2","backgroundDarkTheme3","backgroundDarkTheme4","backgroundDarkTheme5","backgroundDarkTheme6"],textThemes=["textTheme1","textTheme2","textTheme3","textTheme4","textTheme5","textTheme6","textTheme7","textTheme8","textTheme9","textTheme10","textTheme11","textTheme12"],colorChangeElements=[fullscreenButton,settingsButton,lightDarkButton,nextThemeButton,closeButton].filter(Boolean),borderChangeElements=[formatToggle,secondsToggle].filter(Boolean),boxShadowChangeElements=[secondsToggleNob,formatToggleNob].filter(Boolean),textThemeOptions=Array.from((null==textThemeContainer?void 0:textThemeContainer.children)||[]),theme=(null===(_b=null===(_a=window.matchMedia)||void 0===_a?void 0:_a.call(window,"(prefers-color-scheme:dark)"))||void 0===_b?void 0:_b.matches)?"dark":"light",timeFormat="24h",useSeconds="off";function currentTime(){var e=new Date,t=e.getHours(),n=e.getMinutes(),o=e.getSeconds(),l=function(e){return e<10?"0".concat(e):e.toString()},r=l("12h"===timeFormat?t%12||12:t),c=l(n),a=l(o),s="".concat(r,":").concat(c);return"on"===useSeconds&&(s+=":".concat(a)),s}function updateTime(){if(!timeText||!title)throw new Error("Uncaught error: object is null");timeText.innerHTML=currentTime(),title.innerHTML=currentTime()}setInterval(updateTime,500);var isInFullscreen=!1;function checkFullscreen(){isInFullscreen=!(window.screenTop&&window.screenY)}function updateFullscreenIcon(){fullscreenButton.classList.contains("fullscreenOff")?fullscreenButton.classList.replace("fullscreenOff","fullscreenOn"):fullscreenButton.classList.contains("fullscreenOn")&&fullscreenButton.classList.replace("fullscreenOn","fullscreenOff")}function exitHandler(){document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||updateFullscreenIcon()}null==fullscreenButton||fullscreenButton.addEventListener("click",(function(){checkFullscreen(),isInFullscreen?document.exitFullscreen():document.documentElement.requestFullscreen(),updateFullscreenIcon()})),document.addEventListener("fullscreenchange",exitHandler),document.addEventListener("webkitfullscreenchange",exitHandler),document.addEventListener("mozfullscreenchange",exitHandler),document.addEventListener("MSFullscreenChange",exitHandler),null==settingsButton||settingsButton.addEventListener("click",(function(){return null==settingsBar?void 0:settingsBar.classList.add("settingsBarOut")})),null==closeButton||closeButton.addEventListener("click",(function(){return null==settingsBar?void 0:settingsBar.classList.remove("settingsBarOut")})),null==formatToggle||formatToggle.addEventListener("click",(function(){timeFormat="24h"===timeFormat?"12h":"24h",null==formatToggleNob||formatToggleNob.classList.toggle("toggleNobOn","12h"===timeFormat),null==formatToggleNob||formatToggleNob.classList.toggle("toggleNobOff","24h"===timeFormat),checkIfWhiteTheme()}));var whiteThemes=["backgroundLightTheme7"];function checkIfWhiteTheme(){var e=whiteThemes.includes((null==background?void 0:background.className)||""),t=e?"black":"white",n=e?"black":"white",o=e?"black":"white",l=e?"#4b4b4b30":"#b4b4b438";applyStyleToArray(textElements,"color",t),applyStyleToArray(colorChangeElements,"background",n),applyStyleToArray(borderChangeElements,"borderColor",t),applyStyleToArray(textThemeOptions,"color",t),applyBoxShadowToArray(boxShadowChangeElements,0,0,0,.1,o),settingsBar&&(settingsBar.style.background=l),[formatToggleNob,secondsToggleNob].forEach((function(e){e&&(e.style.background=e.classList.contains("toggleNobOn")?t:"transparent")}))}function themePicker(e){var t="text"===e?textThemes:"light"===theme?lightThemes:darkThemes;return t[randomInt(t.length)]}function updateTheme(){for(var e=themePicker("text");e===(null==timeText?void 0:timeText.className);)e=themePicker("text");for(var t=themePicker("background");t===(null==background?void 0:background.className);)t=themePicker("background");if(!(background&&e&&t))throw new Error("Updating theme failed");background.className=t,applyClassToArray(textElements,e),checkIfWhiteTheme()}null==nextThemeButton||nextThemeButton.addEventListener("click",updateTheme),updateTheme(),null==lightDarkButton||lightDarkButton.classList.toggle("darkButton","light"===theme),null==lightDarkButton||lightDarkButton.classList.toggle("lightButton","dark"===theme),null==lightDarkButton||lightDarkButton.addEventListener("click",(function(){theme="light"===theme?"dark":"light",updateTheme(),null==lightDarkButton||lightDarkButton.classList.toggle("lightButton","dark"===theme),null==lightDarkButton||lightDarkButton.classList.toggle("darkButton","light"===theme)})),null==secondsToggle||secondsToggle.addEventListener("click",(function(){useSeconds="on"===useSeconds?"off":"on",null==secondsToggleNob||secondsToggleNob.classList.toggle("toggleNobOn","on"===useSeconds),null==secondsToggleNob||secondsToggleNob.classList.toggle("toggleNobOff","off"===useSeconds),checkIfWhiteTheme()})),Array.from((null==themeContainer?void 0:themeContainer.children)||[]).forEach((function(e){e.addEventListener("click",(function(){var t=e.classList.toString();background&&(background.className=t),checkIfWhiteTheme(),theme=darkThemes.includes(t)?"dark":"light"}))})),Array.from((null==textThemeContainer?void 0:textThemeContainer.children)||[]).forEach((function(e){e.addEventListener("click",(function(){var t=e.classList.toString();applyClassToArray(textElements,t)}))})),Array.from(tooltipLaunchers).forEach((function(e,t){var n=document.getElementById("tooltip".concat(t));e.addEventListener("mouseenter",(function(){return null==n?void 0:n.classList.add("tooltipOn")})),e.addEventListener("mouseleave",(function(){return null==n?void 0:n.classList.remove("tooltipOn")}))}));